### 第一步：安装地基 (Miniconda)

不要安装 Python 官网的安装包，也不要装巨大的 Anaconda。对于工程开发，我们用 **Miniconda**（轻量级、无广告）。

1. **下载：**
访问 [清华大学开源软件镜像站 - Miniconda](https://mirrors.tuna.tsinghua.edu.cn/anaconda/miniconda/)。
* 找到 `Miniconda3-latest-Windows-x86_64.exe` 下载。


2. **安装：**
* 双击安装。
* **关键一步：** 在 "Advanced Options" 界面，**务必勾选** "Add Miniconda3 to my PATH environment variable"（虽然它显示红色警告，但勾选它能让你在任何终端里使用 conda，非常方便）。


3. **验证：**
按 `Win + R`，输入 `cmd`，回车。在黑框里输入：
```bash
conda --version

```


如果显示版本号（如 `conda 23.x.x`），说明安装成功。

---

### 第二步：配置国内加速源 (生死攸关的一步)

因为 conda 和 pip 的服务器在国外，不换源的话，下载速度可能只有 10kb/s，甚至直接报错。

在 `cmd` 终端中，**依次执行**以下命令（一行一行复制粘贴并回车）：

```bash
conda config --set show_channel_urls yes
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/

```

这样你下载 PyTorch 时就会飞快。



---

### 下一步：安装 PyTorch

当你看到 `(yolo)` 之后，请告诉我，并且运行一下这个命令（告诉我你看到了什么），我要帮你确认要安装哪个版本的 PyTorch：

```bash
nvidia-smi

```

*(如果报错说找不到命令，说明你可能没有 N 卡，或者驱动没装好，直接告诉我结果即可)*
这说明你的电脑**可能没有配置 NVIDIA 显卡**，或者**显卡驱动没有加入到系统路径中**。

不过没关系，我们可以通过一个更直观的方法来确认你的硬件情况，然后决定安装哪个版本的 PyTorch。

请按照以下两步操作：

### 第一步：确认你的“武器库”

1. 在键盘上按 `Ctrl + Shift + Esc` 打开 **任务管理器**。
2. 点击顶部的 **“性能”** (Performance) 选项卡。
3. 看左边的列表，往下拉：
* **情况 A：** 你**看不到**任何写着 `NVIDIA` 的选项（只有 Intel 或 AMD）。
* *结论：你只能使用 **CPU 版本**。虽然训练会慢一些，但跑通代码、学习原理完全没问题。*


* **情况 B：** 你**看到**了 `NVIDIA GeForce ...`。
* *结论：你有显卡，只是驱动命令没配好。我们可以强行安装 **GPU 版本**。*





---

### 第二步：执行安装命令（二选一）

请确保你的黑框框前面有 **`(yolo)`** 字样。如果没有，先输入 `conda activate yolo`。

#### 👉 选择 1：如果你是【情况 A】（没有 N 卡，或只有 Intel/AMD）

直接复制下面这行命令（使用清华源，下载很快）：

```bash
pip install torch torchvision torchaudio -i https://pypi.tuna.tsinghua.edu.cn/simple

```

#### 👉 选择 2：如果你是【情况 B】（确实有 N 卡）

既然 `nvidia-smi` 用不了，我们盲选一个兼容性最好的版本（CUDA 11.8），这通常能适配绝大多数显卡。
复制下面这行命令（注意：这会从官方源下载，约 2.5GB，可能需要一点时间，请耐心等待）：

```bash
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118

```

---

**请告诉我你执行了哪一个命令？**
等它跑完（出现 Successfully installed ...），我们就可以进行最后一步：**安装 YOLO 并运行你的第一个 AI 程序了！**

### 第四步：安装 PyTorch (大魔王关卡)

这是最容易出错的一步。请严格按照以下流程：

1. **查看你的显卡支持的 CUDA 版本：**
在 `cmd` 中输入：
```bash
nvidia-smi
```


看右上角的 **CUDA Version**（例如 12.2 或 11.8）。你的 PyTorch 版本不能高于这个数。
*(如果是 CPU 用户，跳过此步)*
2. **获取安装命令：**
打开 [PyTorch 官网](https://pytorch.org/get-started/locally/)。
你需要像点菜一样选择配置（见下图）：
* **PyTorch Build:** Stable
* **Your OS:** Windows
* **Package:** Conda (或者 Pip 也可以，推荐 Conda)
* **Language:** Python
* **Compute Platform:**
* 如果有 N 卡且驱动较新：选 **CUDA 11.8** 或 **CUDA 12.1**。
* 如果是 CPU 用户：选 **CPU**。




3. **执行安装：**
官网会在底部生成一行命令。**把那行命令复制**。
回到你的 `cmd` (确保前面有 `(yolo)` 字样)，粘贴运行。
* *示例（仅供参考，请以官网为准）：*
`conda install pytorch torchvision torchaudio pytorch-cuda=11.8 -c pytorch -c nvidia`



---

### 第五步：安装 YOLOv8 (Ultralytics)

这一步最简单，我们使用 pip 安装，并临时指定清华源加速。

在 `(yolo)` 环境下输入：

```bash
pip install ultralytics -i https://pypi.tuna.tsinghua.edu.cn/simple

```

它会自动安装 OpenCV, NumPy, Pandas 等所有依赖库。

---

### 第六步：配置 IDE (VS Code)

作为 C++ 和 Python 双修的学生，**VS Code** 是你的最佳拍档。

1. 安装 **VS Code**。
2. 点击左侧扩展商店（四个方块图标），搜索并安装 **Python** 插件（Microsoft 出品的）。
3. **关键设置：**
* 打开你的项目文件夹。
* 打开任意一个 `.py` 文件。
* 点击右下角的 Python 版本号。
* 在弹出的列表中，**选择带有 `('yolo': conda)` 字样的解释器**。这一步告诉 VS Code 使用我们刚才配好的环境。



---

### 第七步：终极验证 (Hello World)

我们写一段代码来验证一切是否正常。
在 VS Code 中新建 `check_env.py`：

```python
import torch
from ultralytics import YOLO

# 1. 检查 PyTorch 和 GPU
print("----------- 环境检查 -----------")
print(f"PyTorch 版本: {torch.__version__}")
if torch.cuda.is_available():
    print(f"GPU 状态: ✅ 可用 ({torch.cuda.get_device_name(0)})")
else:
    print("GPU 状态: ❌ 不可用 (将使用 CPU)")

# 2. 检查 YOLO
print("\n----------- YOLO 检查 -----------")
try:
    # 加载一个 nano 模型 (会自动下载)
    model = YOLO('yolov8n.pt') 
    print("YOLOv8 模型加载: ✅ 成功")
    print("环境配置完美！准备起飞！")
except Exception as e:
    print(f"YOLO 报错: {e}")

```

**运行它。**
如果你看到绿色的 ✅ 和显卡型号，恭喜你，你的开发环境已经击败了 90% 的入门者！

---

### 可能遇到的坑

* **报错 `CondaHTTPError`：** 通常是网络问题。尝试连接手机热点，或者检查第二步的镜像源有没有配错。
* **下载一半卡住：** 按 `Ctrl + C` 终止，重新运行命令，它会断点续传。

**现在，请打开你的电脑进行第一步操作。如果在 `nvidia-smi` 这步卡住了，或者不知道怎么选 CUDA 版本，随时把截图里的数字发给我！**